<template>
  <div class="demo-modal">
    <demo-block title="ä¸åŒé£Žæ ¼">
      <i-button @click="$modal.alert('Are you ok?', { title: 'ðŸ‘½' })">alert</i-button>
      <i-button @click="$modal.confirm('å¤§éƒŽï¼Œèµ·æ¥å–è¯äº†', { title: 'æç¤º' })">confirm</i-button>
    </demo-block>
    <demo-block title="å¼‚æ­¥å…³é—­">
      <i-button @click="asyncClose">å¼‚æ­¥å…³é—­</i-button>
    </demo-block>
    <demo-block title="ç»„ä»¶è°ƒç”¨">
      <i-button @click="show = true">ç»„ä»¶è°ƒç”¨</i-button>
    </demo-block>
    <i-modal
      v-model="show"
      close-on-click-overlay
      confirm-text="CLOSE"
      transition-name="modal"
      style="width:66%"
    >
      <img
        src="https://avatars0.githubusercontent.com/u/24448924"
        alt="avatar"
        style="display:block;width:100%"
      >
    </i-modal>
  </div>
</template>

<script>
export default {
  data() {
    return {
      show: false
    }
  },
  methods: {
    asyncClose() {
      this.$modal.alert('å¼‚æ­¥å…³é—­', { title: 'æç¤º', autoClose: false }).then(close => {
        setTimeout(() => {
          close()
        }, 1000)
      })
    }
  }
}
</script>

<style lang="scss" scoped>
.demo-modal {
  .modal-enter-active,
  .modal-leave-active {
    transition: opacity 0.45s, transform 0.45s;
  }
  .modal-enter {
    opacity: 0;
    transform: translate3d(-50%, -50%, 0) scale(2);
  }
  .modal-leave-to {
    opacity: 0;
    transform: translate3d(-50%, -50%, 0) scale(1.5);
  }
}
</style>
